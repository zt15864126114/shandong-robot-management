import{d as Y,q as g,M as U,c as Z,b as e,w as t,r as n,o as M,a as r,J as ee,y as le,K as te,h as s,t as u,f as ae,G as oe,H as ne,E as S,_ as de}from"./index-5f9ceb05.js";const se={class:"customer-container"},re={class:"card-header"},ie={class:"left"},ue={class:"summary-cards"},pe={class:"number"},me={class:"number up"},ce={class:"number"},ve={class:"number"},fe={class:"table-container"},_e={class:"pagination-container"},ge=Y({__name:"index",setup(be){const p=g({page:1,pageSize:10,keyword:"",level:""}),k=g([{id:1,name:"山东临工工程机械有限公司",contact:"王志远",phone:"0539-8785688",level:"vip",address:"山东省临沂市经济技术开发区临工路1号",createTime:"2025-02-20 10:30:00"},{id:2,name:"青岛海尔生物医疗股份有限公司",contact:"李明华",phone:"0532-88939999",level:"important",address:"山东省青岛市崂山区海尔路1号海尔工业园",createTime:"2025-02-20 09:15:00"},{id:3,name:"山东新华医疗器械股份有限公司",contact:"张建国",phone:"0533-3587777",level:"vip",address:"山东省淄博市高新区新华医疗科技园",createTime:"2025-02-20 08:45:00"},{id:4,name:"山东港口烟台港集团有限公司",contact:"刘海涛",phone:"0535-6571234",level:"normal",address:"山东省烟台市芝罘区港城东大街18号",createTime:"2025-02-20 14:20:00"},{id:5,name:"山东时风(集团)有限责任公司",contact:"赵明",phone:"0635-3982888",level:"important",address:"山东省高唐县时风路1号",createTime:"2025-02-20 11:30:00"},{id:6,name:"浪潮电子信息产业股份有限公司",contact:"周伟",phone:"0531-85106666",level:"vip",address:"山东省济南市高新区浪潮路1036号",createTime:"2025-02-20 15:45:00"},{id:7,name:"山东魏桥创业集团有限公司",contact:"吴志强",phone:"0543-2276888",level:"important",address:"山东省邹平市魏桥镇魏桥创业园",createTime:"2025-02-20 13:10:00"},{id:8,name:"中通客车控股股份有限公司",contact:"郑宇",phone:"0635-8322332",level:"vip",address:"山东省聊城市经济开发区黄河路261号",createTime:"2025-02-20 16:25:00"},{id:9,name:"山东晨鸣纸业集团股份有限公司",contact:"孙立新",phone:"0536-2158008",level:"important",address:"山东省寿光市圣城街595号",createTime:"2025-02-20 10:50:00"},{id:10,name:"山东东宏管业股份有限公司",contact:"陈学军",phone:"0537-4928888",level:"normal",address:"山东省曲阜市崇文大道6号",createTime:"2025-02-20 09:40:00"}]),N=g(100),V={total:1526,newMonth:85,vip:386,important:245},P=o=>({normal:"",vip:"success",important:"warning"})[o]||"",q=o=>({normal:"普通客户",vip:"VIP客户",important:"重点客户"})[o]||"未知",B=()=>{p.value.page=1,x()},x=()=>{console.log("加载客户列表:",p.value)},m=U({form:!1,view:!1}),w=g("add"),i=g(null),d=U({name:"",contact:"",phone:"",level:"",address:""}),$=U({name:[{required:!0,message:"请输入客户名称",trigger:"blur"}],contact:[{required:!0,message:"请输入联系人",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"}],level:[{required:!0,message:"请选择客户等级",trigger:"change"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}]}),T=g(),j=()=>{w.value="add",Object.assign(d,{name:"",contact:"",phone:"",level:"",address:""}),m.form=!0},D=o=>{w.value="edit",Object.assign(d,{name:o.name,contact:o.contact,phone:o.phone,level:o.level,address:o.address}),i.value=o,m.form=!0},K=o=>{i.value=o,m.view=!0},O=o=>{ne.confirm("确定要删除该客户吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log("删除客户:",o),S.success("删除成功")}).catch(()=>{})},R=()=>{x()},A=()=>{x()},G=async()=>{T.value&&await T.value.validate(o=>{if(o){const z=new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-");w.value==="add"?(k.value.unshift({id:k.value.length+1,...d,createTime:z}),S.success("添加成功")):i.value&&(Object.assign(i.value,d),S.success("修改成功")),m.form=!1}})};return(o,l)=>{const z=n("el-icon"),b=n("el-input"),f=n("el-option"),E=n("el-select"),c=n("el-button"),h=n("el-card"),C=n("el-col"),H=n("el-row"),v=n("el-table-column"),J=n("el-tag"),F=n("el-table"),Q=n("el-pagination"),y=n("el-form-item"),W=n("el-form"),I=n("el-dialog"),_=n("el-descriptions-item"),X=n("el-descriptions");return M(),Z("div",se,[e(h,null,{header:t(()=>[r("div",re,[r("div",ie,[e(b,{modelValue:p.value.keyword,"onUpdate:modelValue":l[0]||(l[0]=a=>p.value.keyword=a),placeholder:"请输入客户名称/联系人/电话",style:{width:"300px"},clearable:"",onKeyup:ee(B,["enter"])},{prefix:t(()=>[e(z,null,{default:t(()=>[e(le(te))]),_:1})]),_:1},8,["modelValue"]),e(E,{modelValue:p.value.level,"onUpdate:modelValue":l[1]||(l[1]=a=>p.value.level=a),placeholder:"客户等级",clearable:"",style:{width:"120px"}},{default:t(()=>[e(f,{label:"普通客户",value:"normal"}),e(f,{label:"VIP客户",value:"vip"}),e(f,{label:"重点客户",value:"important"})]),_:1},8,["modelValue"]),e(c,{type:"primary",onClick:B},{default:t(()=>l[13]||(l[13]=[s("搜索")])),_:1})]),e(c,{type:"primary",onClick:j},{default:t(()=>l[14]||(l[14]=[s("新增客户")])),_:1})])]),default:t(()=>[r("div",ue,[e(H,{gutter:20},{default:t(()=>[e(C,{span:6},{default:t(()=>[e(h,{shadow:"hover",class:"data-card"},{default:t(()=>[l[15]||(l[15]=r("h3",null,"总客户数",-1)),r("div",pe,u(V.total),1)]),_:1})]),_:1}),e(C,{span:6},{default:t(()=>[e(h,{shadow:"hover",class:"data-card"},{default:t(()=>[l[16]||(l[16]=r("h3",null,"本月新增",-1)),r("div",me,"+"+u(V.newMonth),1)]),_:1})]),_:1}),e(C,{span:6},{default:t(()=>[e(h,{shadow:"hover",class:"data-card"},{default:t(()=>[l[17]||(l[17]=r("h3",null,"VIP客户",-1)),r("div",ce,u(V.vip),1)]),_:1})]),_:1}),e(C,{span:6},{default:t(()=>[e(h,{shadow:"hover",class:"data-card"},{default:t(()=>[l[18]||(l[18]=r("h3",null,"重点客户",-1)),r("div",ve,u(V.important),1)]),_:1})]),_:1})]),_:1})]),r("div",fe,[e(F,{data:k.value,border:"",style:{width:"100%"},height:"100%"},{default:t(()=>[e(v,{prop:"name",label:"客户名称"}),e(v,{prop:"contact",label:"联系人",width:"120"}),e(v,{prop:"phone",label:"联系电话",width:"120"}),e(v,{prop:"level",label:"客户等级",width:"100"},{default:t(({row:a})=>[e(J,{type:P(a.level)},{default:t(()=>[s(u(q(a.level)),1)]),_:2},1032,["type"])]),_:1}),e(v,{prop:"address",label:"地址","show-overflow-tooltip":""}),e(v,{prop:"createTime",label:"创建时间",width:"180"}),e(v,{label:"操作",width:"180",fixed:"right"},{default:t(({row:a})=>[e(c,{link:"",type:"primary",onClick:L=>D(a)},{default:t(()=>l[19]||(l[19]=[s("编辑")])),_:2},1032,["onClick"]),e(c,{link:"",type:"primary",onClick:L=>K(a)},{default:t(()=>l[20]||(l[20]=[s("查看")])),_:2},1032,["onClick"]),e(c,{link:"",type:"danger",onClick:L=>O(a)},{default:t(()=>l[21]||(l[21]=[s("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),r("div",_e,[e(Q,{"current-page":p.value.page,"onUpdate:currentPage":l[2]||(l[2]=a=>p.value.page=a),"page-size":p.value.pageSize,"onUpdate:pageSize":l[3]||(l[3]=a=>p.value.pageSize=a),total:N.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",onSizeChange:R,onCurrentChange:A},null,8,["current-page","page-size","total"])])]),_:1}),e(I,{modelValue:m.form,"onUpdate:modelValue":l[10]||(l[10]=a=>m.form=a),title:w.value==="add"?"新增客户":"编辑客户",width:"600px"},{footer:t(()=>[e(c,{onClick:l[9]||(l[9]=a=>m.form=!1)},{default:t(()=>l[22]||(l[22]=[s("取消")])),_:1}),e(c,{type:"primary",onClick:G},{default:t(()=>l[23]||(l[23]=[s("确定")])),_:1})]),default:t(()=>[e(W,{ref_key:"formRef",ref:T,model:d,rules:$,"label-width":"100px"},{default:t(()=>[e(y,{label:"客户名称",prop:"name"},{default:t(()=>[e(b,{modelValue:d.name,"onUpdate:modelValue":l[4]||(l[4]=a=>d.name=a),placeholder:"请输入客户名称"},null,8,["modelValue"])]),_:1}),e(y,{label:"联系人",prop:"contact"},{default:t(()=>[e(b,{modelValue:d.contact,"onUpdate:modelValue":l[5]||(l[5]=a=>d.contact=a),placeholder:"请输入联系人"},null,8,["modelValue"])]),_:1}),e(y,{label:"联系电话",prop:"phone"},{default:t(()=>[e(b,{modelValue:d.phone,"onUpdate:modelValue":l[6]||(l[6]=a=>d.phone=a),placeholder:"请输入联系电话"},null,8,["modelValue"])]),_:1}),e(y,{label:"客户等级",prop:"level"},{default:t(()=>[e(E,{modelValue:d.level,"onUpdate:modelValue":l[7]||(l[7]=a=>d.level=a),placeholder:"请选择客户等级",style:{width:"100%"}},{default:t(()=>[e(f,{label:"普通客户",value:"normal"}),e(f,{label:"VIP客户",value:"vip"}),e(f,{label:"重点客户",value:"important"})]),_:1},8,["modelValue"])]),_:1}),e(y,{label:"地址",prop:"address"},{default:t(()=>[e(b,{modelValue:d.address,"onUpdate:modelValue":l[8]||(l[8]=a=>d.address=a),placeholder:"请输入地址"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),e(I,{modelValue:m.view,"onUpdate:modelValue":l[12]||(l[12]=a=>m.view=a),title:"客户详情",width:"600px"},{footer:t(()=>[e(c,{onClick:l[11]||(l[11]=a=>m.view=!1)},{default:t(()=>l[24]||(l[24]=[s("关闭")])),_:1})]),default:t(()=>[i.value?(M(),ae(X,{key:0,column:2,border:""},{default:t(()=>[e(_,{label:"客户名称"},{default:t(()=>[s(u(i.value.name),1)]),_:1}),e(_,{label:"联系人"},{default:t(()=>[s(u(i.value.contact),1)]),_:1}),e(_,{label:"联系电话"},{default:t(()=>[s(u(i.value.phone),1)]),_:1}),e(_,{label:"客户等级"},{default:t(()=>[s(u(q(i.value.level)),1)]),_:1}),e(_,{label:"地址",span:2},{default:t(()=>[s(u(i.value.address),1)]),_:1}),e(_,{label:"创建时间",span:2},{default:t(()=>[s(u(i.value.createTime),1)]),_:1})]),_:1})):oe("",!0)]),_:1},8,["modelValue"])])}}});const ye=de(ge,[["__scopeId","data-v-7fa2eb24"]]);export{ye as default};
