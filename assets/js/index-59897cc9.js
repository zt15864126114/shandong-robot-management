import{d as He,q as V,M as R,c as U,b as l,w as a,r as g,N as $e,o as w,a as d,J as Be,y as q,K as re,h as o,Q,t as s,O as Fe,f as A,F as z,e as S,H as je,E as H,_ as Ae}from"./index-09569aab.js";const De={class:"customer-container"},Ee={class:"card-header"},Ie={class:"left"},Oe={class:"summary-cards"},Le={class:"number"},Pe={class:"number up"},Ke={class:"number"},Je={class:"number"},Qe={class:"table-container"},Ge={class:"operation-buttons"},We=["onClick"],Xe=["onClick"],Ye=["onClick"],Ze={class:"pagination-container"},el={class:"tracking-header"},ll={class:"tracking-footer"},tl={class:"operation-buttons"},al={class:"marketing-header"},nl={class:"operation-buttons"},ol={class:"dialog-footer"},il={class:"dialog-footer"},sl=He({__name:"index",setup(ul){const x=V({page:1,pageSize:10,keyword:"",level:""}),D=V([{id:1,name:"山东科技职业学院",contact:"王德明",phone:"0531-82710568",level:"A",industry:"education",scale:"large",annualRevenue:"5000万",website:"www.sdtech.edu.cn",email:"contact@sdtech.edu.cn",fax:"0531-85953667",address:"山东省济南市历城区",businessScope:"高等职业教育、技术培训、科研服务",cooperationHistory:"2020年合作机器人实训室建设，2021年合作智能制造实训基地建设",lastContactTime:"2025-03-15",nextContactTime:"2025-04-15",marketingNotes:"重点客户，每年有稳定的设备采购需求",tags:["important","regular","high_value"]},{id:2,name:"济南智能制造有限公司",contact:"张建华",phone:"0531-67885498",level:"B",industry:"manufacturing",scale:"medium",annualRevenue:"2000万",website:"www.jnznzz.com",email:"info@jnznzz.com",fax:"0531-88888889",address:"山东省济南市高新区",businessScope:"工业机器人应用、自动化生产线集成、智能制造解决方案",cooperationHistory:"2023年合作机器人应用项目",lastContactTime:"2025-03-18",nextContactTime:"2025-03-25",marketingNotes:"潜在重点客户，有扩大合作意向",tags:["potential","strategic"]},{id:3,name:"青岛医疗设备有限公司",contact:"李志强",phone:"0532-66897669",level:"A",industry:"healthcare",scale:"large",annualRevenue:"8000万",website:"www.qdmedical.com",email:"contact@qdmedical.com",fax:"0532-85888889",address:"山东省青岛市崂山区",businessScope:"医疗设备研发、生产、销售",cooperationHistory:"2022年合作医疗机器人项目，2023年合作智能医疗设备项目",lastContactTime:"2025-03-20",nextContactTime:"2025-04-20",marketingNotes:"战略客户，有长期合作计划",tags:["important","strategic","high_value"]},{id:4,name:"烟台自动化科技有限公司",contact:"刘伟",phone:"0535-6789198",level:"B",industry:"manufacturing",scale:"medium",annualRevenue:"3000万",website:"www.ytzdh.com",email:"info@ytzdh.com",fax:"0535-6288889",address:"山东省烟台市开发区",businessScope:"自动化设备研发、生产、销售",cooperationHistory:"2023年合作自动化生产线项目",lastContactTime:"2025-03-22",nextContactTime:"2025-04-22",marketingNotes:"重点跟进客户，有较大采购意向",tags:["potential","high_value"]},{id:5,name:"潍坊机器人研究院",contact:"赵明",phone:"0536-8234536",level:"A",industry:"it",scale:"large",annualRevenue:"6000万",website:"www.wfrobot.com",email:"contact@wfrobot.com",fax:"0536-8888889",address:"山东省潍坊市高新区",businessScope:"机器人技术研发、人才培养、产业孵化",cooperationHistory:"2021年合作机器人研发项目，2022年合作人才培养项目",lastContactTime:"2025-03-25",nextContactTime:"2025-04-25",marketingNotes:"战略合作伙伴，长期合作客户",tags:["important","strategic","regular"]},{id:6,name:"淄博智能装备有限公司",contact:"孙华",phone:"0533-5678236",level:"B",industry:"manufacturing",scale:"medium",annualRevenue:"2500万",website:"www.zbznzb.com",email:"info@zbznzb.com",fax:"0533-8888889",address:"山东省淄博市张店区",businessScope:"智能装备制造、系统集成",cooperationHistory:"2023年合作智能装备项目",lastContactTime:"2025-03-28",nextContactTime:"2025-04-28",marketingNotes:"重点跟进客户，有采购意向",tags:["potential","new"]},{id:7,name:"临沂工业自动化有限公司",contact:"周强",phone:"0539-7123456",level:"C",industry:"manufacturing",scale:"small",annualRevenue:"1500万",website:"www.lyzdh.com",email:"contact@lyzdh.com",fax:"0539-8888889",address:"山东省临沂市兰山区",businessScope:"工业自动化设备销售、技术服务",cooperationHistory:"2023年合作自动化设备项目",lastContactTime:"2025-03-30",nextContactTime:"2025-04-30",marketingNotes:"新客户，需要重点跟进",tags:["new","potential"]},{id:8,name:"济宁智能制造产业园",contact:"吴明",phone:"0537-3456798",level:"A",industry:"manufacturing",scale:"large",annualRevenue:"10000万",website:"www.jnznzz.com",email:"info@jnznzz.com",fax:"0537-8888889",address:"山东省济宁市高新区",businessScope:"智能制造产业园区运营、企业孵化",cooperationHistory:"2022年合作产业园项目，2023年合作企业孵化项目",lastContactTime:"2025-04-01",nextContactTime:"2025-05-01",marketingNotes:"战略客户，有大量采购需求",tags:["important","strategic","high_value"]}]),me=V(100),$={total:1526,newMonth:85,vip:386,important:245},G=()=>{x.value.page=1,E()},E=()=>{console.log("加载客户列表:",x.value)},c=R({form:!1,view:!1,tracking:!1,marketing:!1,viewMarketing:!1}),B=V("add"),u=V(null),i=R({name:"",contact:"",phone:"",level:"",address:"",industry:"",scale:"",annualRevenue:"",website:"",email:"",fax:"",businessScope:"",cooperationHistory:"",lastContactTime:"",nextContactTime:"",marketingNotes:"",tags:[]}),pe=R({name:[{required:!0,message:"请输入客户名称",trigger:"blur"}],contact:[{required:!0,message:"请输入联系人",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"}],level:[{required:!0,message:"请选择客户等级",trigger:"change"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],industry:[{required:!0,message:"请选择所属行业",trigger:"change"}],scale:[{required:!0,message:"请选择企业规模",trigger:"change"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]}),I=V(),ce=()=>{B.value="add",Object.assign(i,{name:"",contact:"",phone:"",level:"",address:"",industry:"",scale:"",annualRevenue:"",website:"",email:"",fax:"",businessScope:"",cooperationHistory:"",lastContactTime:"",nextContactTime:"",marketingNotes:"",tags:[]}),c.form=!0},ge=n=>{B.value="edit",Object.assign(i,{name:n.name,contact:n.contact,phone:n.phone,level:n.level,address:n.address,industry:n.industry,scale:n.scale,annualRevenue:n.annualRevenue,website:n.website,email:n.email,fax:n.fax,businessScope:n.businessScope,cooperationHistory:n.cooperationHistory,lastContactTime:n.lastContactTime,nextContactTime:n.nextContactTime,marketingNotes:n.marketingNotes,tags:n.tags}),u.value=n,c.form=!0},fe=n=>{u.value=n,c.view=!0},ve=n=>{je.confirm("确定要删除该客户吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log("删除客户:",n),H.success("删除成功")}).catch(()=>{})},be=()=>{E()},ye=()=>{E()},_e=async()=>{I.value&&await I.value.validate(n=>{if(n){const h=new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-");B.value==="add"?(D.value.unshift({id:D.value.length+1,...i,createTime:h}),H.success("添加成功")):u.value&&(Object.assign(u.value,i),H.success("修改成功")),c.form=!1}})},W=[{label:"制造业",value:"manufacturing"},{label:"医疗健康",value:"healthcare"},{label:"信息技术",value:"it"},{label:"金融",value:"finance"},{label:"教育",value:"education"},{label:"其他",value:"other"}],X=[{label:"大型企业",value:"large"},{label:"中型企业",value:"medium"},{label:"小型企业",value:"small"},{label:"微型企业",value:"micro"}],Y=[{label:"重点客户",value:"important"},{label:"潜在客户",value:"potential"},{label:"老客户",value:"regular"},{label:"新客户",value:"new"},{label:"高价值",value:"high_value"},{label:"战略客户",value:"strategic"}],Z=n=>{const t=W.find(h=>h.value===n);return t?t.label:"未知"},ee=n=>{const t=X.find(h=>h.value===n);return t?t.label:"未知"},le=n=>({important:"danger",potential:"warning",regular:"success",new:"info",high_value:"primary",strategic:"warning"})[n]||"info",te=n=>{const t=Y.find(h=>h.value===n);return t?t.label:"未知"},ae=V("basic"),ke=V([{id:"1",title:"电话沟通产品需求",type:"phone",content:"与客户讨论了新一代工业机器人的具体需求，包括精度要求、负载能力和应用场景。客户对产品性能表示满意，建议增加远程监控功能。",time:"2025-03-20 14:30:00",recorder:"张明"},{id:"2",title:"现场技术交流",type:"visit",content:"前往客户工厂进行技术交流，参观了生产线，了解了实际应用场景。客户提出了一些优化建议，包括操作界面的人性化改进。",time:"2025-03-18 09:00:00",recorder:"李强"},{id:"3",title:"邮件确认合作细节",type:"email",content:"通过邮件确认了产品规格、价格和交付时间等合作细节。客户同意先进行小批量试用，后续根据效果扩大采购规模。",time:"2025-03-15 16:20:00",recorder:"王芳"}]),Ve=V([{id:"1",title:"工业机器人新品发布会",type:"product",time:"2025-03-25 09:00:00",status:"planned",content:"计划举办新一代工业机器人新品发布会，展示产品性能和应用案例。",expectedResult:"预计吸引50家潜在客户参与，达成3-5个意向订单。",actualResult:""},{id:"2",title:"智能制造技术交流会",type:"technical",time:"2025-03-22 14:00:00",status:"ongoing",content:"组织技术专家团队进行智能制造解决方案交流，分享行业最新发展趋势。",expectedResult:"提升客户对产品的技术认知，促进深度合作。",actualResult:"客户对技术方案表示认可，计划进行深入合作。"},{id:"3",title:"客户回访活动",type:"visit",time:"2025-03-20 10:00:00",status:"completed",content:"回访重点客户，了解产品使用情况，收集改进建议。",expectedResult:"收集客户反馈，改进产品和服务质量。",actualResult:"收集到多条有价值的改进建议，客户满意度较高。"}]),k=R({type:"",time:"",content:"",nextTime:""}),b=R({type:"",time:"",location:"",content:"",expected:""}),we=R({type:[{required:!0,message:"请选择跟踪类型",trigger:"change"}],time:[{required:!0,message:"请选择跟踪时间",trigger:"change"}],content:[{required:!0,message:"请输入跟踪内容",trigger:"blur"}],nextTime:[{required:!0,message:"请选择下次跟进时间",trigger:"change"}]}),xe=R({type:[{required:!0,message:"请选择活动类型",trigger:"change"}],time:[{required:!0,message:"请选择活动时间",trigger:"change"}],location:[{required:!0,message:"请输入活动地点",trigger:"blur"}],content:[{required:!0,message:"请输入活动内容",trigger:"blur"}],expected:[{required:!0,message:"请输入预期效果",trigger:"blur"}]}),O=V(),L=V(),he=n=>{u.value=n,k.type="",k.time="",k.content="",k.nextTime="",c.tracking=!0},Ce=async()=>{O.value&&await O.value.validate(n=>{var t;n&&(console.log("跟踪记录:",{customerId:(t=u.value)==null?void 0:t.id,...k}),H.success("跟踪记录添加成功"),c.tracking=!1)})},Te=n=>{u.value=n,b.type="",b.time="",b.location="",b.content="",b.expected="",c.marketing=!0},Re=async()=>{L.value&&await L.value.validate(n=>{var t;n&&(console.log("营销活动:",{customerId:(t=u.value)==null?void 0:t.id,...b}),H.success("营销活动添加成功"),c.marketing=!1)})},ne=n=>({product:"primary",technical:"success",visit:"warning",exhibition:"info",other:""})[n]||"",oe=n=>({product:"产品推介",technical:"技术交流",visit:"客户回访",exhibition:"展会活动",other:"其他"})[n]||"未知",ie=n=>({planned:"info",ongoing:"primary",completed:"success",cancelled:"danger"})[n]||"",se=n=>({planned:"计划中",ongoing:"进行中",completed:"已完成",cancelled:"已取消"})[n]||"未知";return(n,t)=>{const h=g("el-icon"),f=g("el-input"),v=g("el-option"),T=g("el-select"),y=g("el-button"),M=g("el-card"),F=g("el-col"),Ue=g("el-row"),_=g("el-table-column"),C=g("el-tag"),ue=g("el-table"),ze=g("el-pagination"),r=g("el-form-item"),P=g("el-form"),N=g("el-dialog"),m=g("el-descriptions-item"),de=g("el-descriptions"),K=g("el-tab-pane"),Se=g("el-timeline-item"),Me=g("el-timeline"),Ne=g("el-tabs"),J=g("el-date-picker"),qe=$e("loading");return w(),U("div",De,[l(M,null,{header:a(()=>[d("div",Ee,[d("div",Ie,[l(f,{modelValue:x.value.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>x.value.keyword=e),placeholder:"请输入客户名称/联系人/电话",style:{width:"300px"},clearable:"",onKeyup:Be(G,["enter"])},{prefix:a(()=>[l(h,null,{default:a(()=>[l(q(re))]),_:1})]),_:1},8,["modelValue"]),l(T,{modelValue:x.value.level,"onUpdate:modelValue":t[1]||(t[1]=e=>x.value.level=e),placeholder:"客户等级",clearable:"",style:{width:"120px"}},{default:a(()=>[l(v,{label:"普通客户",value:"normal"}),l(v,{label:"VIP客户",value:"vip"}),l(v,{label:"重点客户",value:"important"})]),_:1},8,["modelValue"]),l(y,{type:"primary",icon:q(re),onClick:G},{default:a(()=>t[43]||(t[43]=[o("搜索")])),_:1},8,["icon"])]),l(y,{type:"primary",icon:q(Q),onClick:ce},{default:a(()=>t[44]||(t[44]=[o("新增客户")])),_:1},8,["icon"])])]),default:a(()=>[d("div",Oe,[l(Ue,{gutter:20},{default:a(()=>[l(F,{span:6},{default:a(()=>[l(M,{shadow:"hover",class:"data-card"},{default:a(()=>[t[45]||(t[45]=d("h3",null,"总客户数",-1)),d("div",Le,s($.total),1)]),_:1})]),_:1}),l(F,{span:6},{default:a(()=>[l(M,{shadow:"hover",class:"data-card"},{default:a(()=>[t[46]||(t[46]=d("h3",null,"本月新增",-1)),d("div",Pe,"+"+s($.newMonth),1)]),_:1})]),_:1}),l(F,{span:6},{default:a(()=>[l(M,{shadow:"hover",class:"data-card"},{default:a(()=>[t[47]||(t[47]=d("h3",null,"VIP客户",-1)),d("div",Ke,s($.vip),1)]),_:1})]),_:1}),l(F,{span:6},{default:a(()=>[l(M,{shadow:"hover",class:"data-card"},{default:a(()=>[t[48]||(t[48]=d("h3",null,"重点客户",-1)),d("div",Je,s($.important),1)]),_:1})]),_:1})]),_:1})]),d("div",Qe,[Fe((w(),A(ue,{data:D.value,border:"",style:{width:"100%"},height:"100%"},{default:a(()=>[l(_,{prop:"name",label:"客户名称","min-width":"120"}),l(_,{prop:"contact",label:"联系人","min-width":"100"}),l(_,{prop:"phone",label:"联系电话","min-width":"120"}),l(_,{prop:"level",label:"客户等级","min-width":"100"},{default:a(({row:e})=>[l(C,{type:e.level==="A"?"success":e.level==="B"?"warning":"info"},{default:a(()=>[o(s(e.level),1)]),_:2},1032,["type"])]),_:1}),l(_,{prop:"industry",label:"所属行业","min-width":"120"},{default:a(({row:e})=>[o(s(Z(e.industry)),1)]),_:1}),l(_,{prop:"scale",label:"企业规模","min-width":"100"},{default:a(({row:e})=>[o(s(ee(e.scale)),1)]),_:1}),l(_,{prop:"annualRevenue",label:"年营业额","min-width":"120"}),l(_,{prop:"lastContactTime",label:"最近联系","min-width":"120"}),l(_,{prop:"nextContactTime",label:"下次联系","min-width":"120"}),l(_,{prop:"tags",label:"客户标签","min-width":"200"},{default:a(({row:e})=>[(w(!0),U(z,null,S(e.tags,p=>(w(),A(C,{key:p,type:le(p),class:"mx-1",style:{"margin-right":"4px"}},{default:a(()=>[o(s(te(p)),1)]),_:2},1032,["type"]))),128))]),_:1}),l(_,{label:"操作",width:"180",fixed:"right"},{default:a(({row:e})=>[d("div",Ge,[d("a",{onClick:p=>ge(e)},"编辑",8,We),d("a",{onClick:p=>fe(e)},"查看",8,Xe),d("a",{class:"danger",onClick:p=>ve(e)},"删除",8,Ye)])]),_:1})]),_:1},8,["data"])),[[qe,n.loading]])]),d("div",Ze,[l(ze,{"current-page":x.value.page,"onUpdate:currentPage":t[2]||(t[2]=e=>x.value.page=e),"page-size":x.value.pageSize,"onUpdate:pageSize":t[3]||(t[3]=e=>x.value.pageSize=e),total:me.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",onSizeChange:be,onCurrentChange:ye},null,8,["current-page","page-size","total"])])]),_:1}),l(N,{modelValue:c.form,"onUpdate:modelValue":t[22]||(t[22]=e=>c.form=e),title:B.value==="add"?"新增客户":"编辑客户",width:"600px"},{footer:a(()=>[l(y,{onClick:t[21]||(t[21]=e=>c.form=!1)},{default:a(()=>t[49]||(t[49]=[o("取消")])),_:1}),l(y,{type:"primary",onClick:_e},{default:a(()=>t[50]||(t[50]=[o("确定")])),_:1})]),default:a(()=>[l(P,{ref_key:"formRef",ref:I,model:i,rules:pe,"label-width":"100px"},{default:a(()=>[l(r,{label:"客户名称",prop:"name"},{default:a(()=>[l(f,{modelValue:i.name,"onUpdate:modelValue":t[4]||(t[4]=e=>i.name=e),placeholder:"请输入客户名称"},null,8,["modelValue"])]),_:1}),l(r,{label:"联系人",prop:"contact"},{default:a(()=>[l(f,{modelValue:i.contact,"onUpdate:modelValue":t[5]||(t[5]=e=>i.contact=e),placeholder:"请输入联系人"},null,8,["modelValue"])]),_:1}),l(r,{label:"联系电话",prop:"phone"},{default:a(()=>[l(f,{modelValue:i.phone,"onUpdate:modelValue":t[6]||(t[6]=e=>i.phone=e),placeholder:"请输入联系电话"},null,8,["modelValue"])]),_:1}),l(r,{label:"客户等级",prop:"level"},{default:a(()=>[l(T,{modelValue:i.level,"onUpdate:modelValue":t[7]||(t[7]=e=>i.level=e),placeholder:"请选择客户等级",style:{width:"100%"}},{default:a(()=>[l(v,{label:"普通客户",value:"normal"}),l(v,{label:"VIP客户",value:"vip"}),l(v,{label:"重点客户",value:"important"})]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"地址",prop:"address"},{default:a(()=>[l(f,{modelValue:i.address,"onUpdate:modelValue":t[8]||(t[8]=e=>i.address=e),placeholder:"请输入地址"},null,8,["modelValue"])]),_:1}),l(r,{label:"所属行业",prop:"industry"},{default:a(()=>[l(T,{modelValue:i.industry,"onUpdate:modelValue":t[9]||(t[9]=e=>i.industry=e),placeholder:"请选择所属行业",style:{width:"100%"}},{default:a(()=>[(w(),U(z,null,S(W,e=>l(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"企业规模",prop:"scale"},{default:a(()=>[l(T,{modelValue:i.scale,"onUpdate:modelValue":t[10]||(t[10]=e=>i.scale=e),placeholder:"请选择企业规模",style:{width:"100%"}},{default:a(()=>[(w(),U(z,null,S(X,e=>l(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"年营业额",prop:"annualRevenue"},{default:a(()=>[l(f,{modelValue:i.annualRevenue,"onUpdate:modelValue":t[11]||(t[11]=e=>i.annualRevenue=e),placeholder:"请输入年营业额"},null,8,["modelValue"])]),_:1}),l(r,{label:"企业网站",prop:"website"},{default:a(()=>[l(f,{modelValue:i.website,"onUpdate:modelValue":t[12]||(t[12]=e=>i.website=e),placeholder:"请输入企业网站"},null,8,["modelValue"])]),_:1}),l(r,{label:"电子邮箱",prop:"email"},{default:a(()=>[l(f,{modelValue:i.email,"onUpdate:modelValue":t[13]||(t[13]=e=>i.email=e),placeholder:"请输入电子邮箱"},null,8,["modelValue"])]),_:1}),l(r,{label:"传真",prop:"fax"},{default:a(()=>[l(f,{modelValue:i.fax,"onUpdate:modelValue":t[14]||(t[14]=e=>i.fax=e),placeholder:"请输入传真"},null,8,["modelValue"])]),_:1}),l(r,{label:"经营范围",prop:"businessScope"},{default:a(()=>[l(f,{modelValue:i.businessScope,"onUpdate:modelValue":t[15]||(t[15]=e=>i.businessScope=e),placeholder:"请输入经营范围"},null,8,["modelValue"])]),_:1}),l(r,{label:"合作历史",prop:"cooperationHistory"},{default:a(()=>[l(f,{modelValue:i.cooperationHistory,"onUpdate:modelValue":t[16]||(t[16]=e=>i.cooperationHistory=e),placeholder:"请输入合作历史"},null,8,["modelValue"])]),_:1}),l(r,{label:"最近联系时间",prop:"lastContactTime"},{default:a(()=>[l(f,{modelValue:i.lastContactTime,"onUpdate:modelValue":t[17]||(t[17]=e=>i.lastContactTime=e),placeholder:"请输入最近联系时间"},null,8,["modelValue"])]),_:1}),l(r,{label:"下次联系时间",prop:"nextContactTime"},{default:a(()=>[l(f,{modelValue:i.nextContactTime,"onUpdate:modelValue":t[18]||(t[18]=e=>i.nextContactTime=e),placeholder:"请输入下次联系时间"},null,8,["modelValue"])]),_:1}),l(r,{label:"营销备注",prop:"marketingNotes"},{default:a(()=>[l(f,{modelValue:i.marketingNotes,"onUpdate:modelValue":t[19]||(t[19]=e=>i.marketingNotes=e),placeholder:"请输入营销备注"},null,8,["modelValue"])]),_:1}),l(r,{label:"客户标签",prop:"tags"},{default:a(()=>[l(T,{modelValue:i.tags,"onUpdate:modelValue":t[20]||(t[20]=e=>i.tags=e),placeholder:"请选择客户标签",style:{width:"100%"},multiple:""},{default:a(()=>[(w(),U(z,null,S(Y,e=>l(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),l(N,{modelValue:c.view,"onUpdate:modelValue":t[27]||(t[27]=e=>c.view=e),title:"客户详情",width:"60%","close-on-click-modal":!1},{footer:a(()=>[d("span",ol,[l(y,{onClick:t[26]||(t[26]=e=>c.view=!1)},{default:a(()=>t[58]||(t[58]=[o("关闭")])),_:1})])]),default:a(()=>[l(Ne,{modelValue:ae.value,"onUpdate:modelValue":t[25]||(t[25]=e=>ae.value=e)},{default:a(()=>[l(K,{label:"基本信息",name:"basic"},{default:a(()=>[l(de,{column:2,border:""},{default:a(()=>[l(m,{label:"客户名称"},{default:a(()=>{var e;return[o(s((e=u.value)==null?void 0:e.name),1)]}),_:1}),l(m,{label:"联系人"},{default:a(()=>{var e;return[o(s((e=u.value)==null?void 0:e.contact),1)]}),_:1}),l(m,{label:"联系电话"},{default:a(()=>{var e;return[o(s((e=u.value)==null?void 0:e.phone),1)]}),_:1}),l(m,{label:"客户等级"},{default:a(()=>{var e,p;return[l(C,{type:((e=u.value)==null?void 0:e.level)==="A"?"success":((p=u.value)==null?void 0:p.level)==="B"?"warning":"info"},{default:a(()=>{var j;return[o(s((j=u.value)==null?void 0:j.level),1)]}),_:1},8,["type"])]}),_:1}),l(m,{label:"所属行业"},{default:a(()=>{var e;return[o(s(Z((e=u.value)==null?void 0:e.industry)),1)]}),_:1}),l(m,{label:"企业规模"},{default:a(()=>{var e;return[o(s(ee((e=u.value)==null?void 0:e.scale)),1)]}),_:1}),l(m,{label:"年营业额"},{default:a(()=>{var e;return[o(s((e=u.value)==null?void 0:e.annualRevenue),1)]}),_:1}),l(m,{label:"企业网站"},{default:a(()=>{var e;return[o(s((e=u.value)==null?void 0:e.website),1)]}),_:1}),l(m,{label:"电子邮箱"},{default:a(()=>{var e;return[o(s((e=u.value)==null?void 0:e.email),1)]}),_:1}),l(m,{label:"传真"},{default:a(()=>{var e;return[o(s((e=u.value)==null?void 0:e.fax),1)]}),_:1}),l(m,{label:"地址",span:2},{default:a(()=>{var e;return[o(s((e=u.value)==null?void 0:e.address),1)]}),_:1}),l(m,{label:"经营范围",span:2},{default:a(()=>{var e;return[o(s((e=u.value)==null?void 0:e.businessScope),1)]}),_:1}),l(m,{label:"合作历史",span:2},{default:a(()=>{var e;return[o(s((e=u.value)==null?void 0:e.cooperationHistory),1)]}),_:1}),l(m,{label:"最近联系时间"},{default:a(()=>{var e;return[o(s((e=u.value)==null?void 0:e.lastContactTime),1)]}),_:1}),l(m,{label:"下次联系时间"},{default:a(()=>{var e;return[o(s((e=u.value)==null?void 0:e.nextContactTime),1)]}),_:1}),l(m,{label:"营销备注",span:2},{default:a(()=>{var e;return[o(s((e=u.value)==null?void 0:e.marketingNotes),1)]}),_:1}),l(m,{label:"客户标签",span:2},{default:a(()=>{var e;return[(w(!0),U(z,null,S((e=u.value)==null?void 0:e.tags,p=>(w(),A(C,{key:p,type:le(p),class:"mx-1",style:{"margin-right":"4px"}},{default:a(()=>[o(s(te(p)),1)]),_:2},1032,["type"]))),128))]}),_:1})]),_:1})]),_:1}),l(K,{label:"跟踪记录",name:"tracking"},{default:a(()=>[d("div",el,[l(y,{type:"primary",icon:q(Q),onClick:t[23]||(t[23]=e=>he(u.value))},{default:a(()=>t[51]||(t[51]=[o("添加跟踪记录")])),_:1},8,["icon"])]),l(Me,null,{default:a(()=>[(w(!0),U(z,null,S(ke.value,(e,p)=>(w(),A(Se,{key:p,timestamp:e.time,type:e.type},{default:a(()=>[d("h4",null,s(e.title),1),d("p",null,s(e.content),1),d("div",ll,[d("span",null,"记录人："+s(e.recorder),1),d("div",tl,[l(y,{type:"primary",text:"",onClick:j=>n.handleEditTracking(e)},{default:a(()=>t[52]||(t[52]=[o("编辑")])),_:2},1032,["onClick"]),l(y,{type:"danger",text:"",onClick:j=>n.handleDeleteTracking(e)},{default:a(()=>t[53]||(t[53]=[o("删除")])),_:2},1032,["onClick"])])])]),_:2},1032,["timestamp","type"]))),128))]),_:1})]),_:1}),l(K,{label:"营销活动",name:"marketing"},{default:a(()=>[d("div",al,[l(y,{type:"primary",icon:q(Q),onClick:t[24]||(t[24]=e=>Te(u.value))},{default:a(()=>t[54]||(t[54]=[o("添加营销活动")])),_:1},8,["icon"])]),l(ue,{data:Ve.value,border:"",style:{width:"100%"}},{default:a(()=>[l(_,{prop:"time",label:"活动时间",width:"180"}),l(_,{prop:"type",label:"活动类型",width:"120"},{default:a(({row:e})=>[l(C,{type:ne(e.type)},{default:a(()=>[o(s(oe(e.type)),1)]),_:2},1032,["type"])]),_:1}),l(_,{prop:"title",label:"活动主题"}),l(_,{prop:"status",label:"状态",width:"100"},{default:a(({row:e})=>[l(C,{type:ie(e.status)},{default:a(()=>[o(s(se(e.status)),1)]),_:2},1032,["type"])]),_:1}),l(_,{label:"操作",width:"200",fixed:"right"},{default:a(({row:e})=>[d("div",nl,[l(y,{type:"primary",text:"",onClick:p=>n.handleEditMarketing(e)},{default:a(()=>t[55]||(t[55]=[o("编辑")])),_:2},1032,["onClick"]),l(y,{type:"success",text:"",onClick:p=>n.handleViewMarketing(e)},{default:a(()=>t[56]||(t[56]=[o("查看")])),_:2},1032,["onClick"]),l(y,{type:"danger",text:"",onClick:p=>n.handleDeleteMarketing(e)},{default:a(()=>t[57]||(t[57]=[o("删除")])),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),l(N,{modelValue:c.tracking,"onUpdate:modelValue":t[33]||(t[33]=e=>c.tracking=e),title:"添加跟踪记录",width:"600px","close-on-click-modal":!1},{footer:a(()=>[l(y,{onClick:t[32]||(t[32]=e=>c.tracking=!1)},{default:a(()=>t[59]||(t[59]=[o("取消")])),_:1}),l(y,{type:"primary",onClick:Ce},{default:a(()=>t[60]||(t[60]=[o("确定")])),_:1})]),default:a(()=>[l(P,{ref_key:"trackingFormRef",ref:O,model:k,rules:we,"label-width":"100px"},{default:a(()=>[l(r,{label:"客户名称"},{default:a(()=>{var e;return[d("span",null,s((e=u.value)==null?void 0:e.name),1)]}),_:1}),l(r,{label:"跟踪类型",prop:"type"},{default:a(()=>[l(T,{modelValue:k.type,"onUpdate:modelValue":t[28]||(t[28]=e=>k.type=e),placeholder:"请选择跟踪类型"},{default:a(()=>[l(v,{label:"电话沟通",value:"phone"}),l(v,{label:"邮件沟通",value:"email"}),l(v,{label:"上门拜访",value:"visit"}),l(v,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"跟踪时间",prop:"time"},{default:a(()=>[l(J,{modelValue:k.time,"onUpdate:modelValue":t[29]||(t[29]=e=>k.time=e),type:"datetime",placeholder:"选择跟踪时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(r,{label:"跟踪内容",prop:"content"},{default:a(()=>[l(f,{modelValue:k.content,"onUpdate:modelValue":t[30]||(t[30]=e=>k.content=e),type:"textarea",rows:4,placeholder:"请输入跟踪内容"},null,8,["modelValue"])]),_:1}),l(r,{label:"下次跟进",prop:"nextTime"},{default:a(()=>[l(J,{modelValue:k.nextTime,"onUpdate:modelValue":t[31]||(t[31]=e=>k.nextTime=e),type:"datetime",placeholder:"选择下次跟进时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),l(N,{modelValue:c.marketing,"onUpdate:modelValue":t[40]||(t[40]=e=>c.marketing=e),title:"添加营销活动",width:"600px","close-on-click-modal":!1},{footer:a(()=>[l(y,{onClick:t[39]||(t[39]=e=>c.marketing=!1)},{default:a(()=>t[61]||(t[61]=[o("取消")])),_:1}),l(y,{type:"primary",onClick:Re},{default:a(()=>t[62]||(t[62]=[o("确定")])),_:1})]),default:a(()=>[l(P,{ref_key:"marketingFormRef",ref:L,model:b,rules:xe,"label-width":"100px"},{default:a(()=>[l(r,{label:"客户名称"},{default:a(()=>{var e;return[d("span",null,s((e=u.value)==null?void 0:e.name),1)]}),_:1}),l(r,{label:"活动类型",prop:"type"},{default:a(()=>[l(T,{modelValue:b.type,"onUpdate:modelValue":t[34]||(t[34]=e=>b.type=e),placeholder:"请选择活动类型"},{default:a(()=>[l(v,{label:"产品推介",value:"product"}),l(v,{label:"技术交流",value:"technical"}),l(v,{label:"客户回访",value:"visit"}),l(v,{label:"展会活动",value:"exhibition"}),l(v,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"活动时间",prop:"time"},{default:a(()=>[l(J,{modelValue:b.time,"onUpdate:modelValue":t[35]||(t[35]=e=>b.time=e),type:"datetime",placeholder:"选择活动时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(r,{label:"活动地点",prop:"location"},{default:a(()=>[l(f,{modelValue:b.location,"onUpdate:modelValue":t[36]||(t[36]=e=>b.location=e),placeholder:"请输入活动地点"},null,8,["modelValue"])]),_:1}),l(r,{label:"活动内容",prop:"content"},{default:a(()=>[l(f,{modelValue:b.content,"onUpdate:modelValue":t[37]||(t[37]=e=>b.content=e),type:"textarea",rows:4,placeholder:"请输入活动内容"},null,8,["modelValue"])]),_:1}),l(r,{label:"预期效果",prop:"expected"},{default:a(()=>[l(f,{modelValue:b.expected,"onUpdate:modelValue":t[38]||(t[38]=e=>b.expected=e),type:"textarea",rows:3,placeholder:"请输入预期效果"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),l(N,{modelValue:c.viewMarketing,"onUpdate:modelValue":t[42]||(t[42]=e=>c.viewMarketing=e),title:"营销活动详情",width:"600px","close-on-click-modal":!1},{footer:a(()=>[d("span",il,[l(y,{onClick:t[41]||(t[41]=e=>c.viewMarketing=!1)},{default:a(()=>t[63]||(t[63]=[o("关闭")])),_:1})])]),default:a(()=>[l(de,{column:1,border:""},{default:a(()=>[l(m,{label:"活动主题"},{default:a(()=>{var e;return[o(s((e=n.currentMarketing)==null?void 0:e.title),1)]}),_:1}),l(m,{label:"活动类型"},{default:a(()=>{var e;return[l(C,{type:ne((e=n.currentMarketing)==null?void 0:e.type)},{default:a(()=>{var p;return[o(s(oe((p=n.currentMarketing)==null?void 0:p.type)),1)]}),_:1},8,["type"])]}),_:1}),l(m,{label:"活动时间"},{default:a(()=>{var e;return[o(s((e=n.currentMarketing)==null?void 0:e.time),1)]}),_:1}),l(m,{label:"活动状态"},{default:a(()=>{var e;return[l(C,{type:ie((e=n.currentMarketing)==null?void 0:e.status)},{default:a(()=>{var p;return[o(s(se((p=n.currentMarketing)==null?void 0:p.status)),1)]}),_:1},8,["type"])]}),_:1}),l(m,{label:"活动内容"},{default:a(()=>{var e;return[o(s((e=n.currentMarketing)==null?void 0:e.content),1)]}),_:1}),l(m,{label:"预期效果"},{default:a(()=>{var e;return[o(s((e=n.currentMarketing)==null?void 0:e.expectedResult),1)]}),_:1}),l(m,{label:"实际效果"},{default:a(()=>{var e;return[o(s(((e=n.currentMarketing)==null?void 0:e.actualResult)||"暂无"),1)]}),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});const rl=Ae(sl,[["__scopeId","data-v-34b64545"]]);export{rl as default};
