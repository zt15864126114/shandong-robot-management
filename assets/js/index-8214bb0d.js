import{i as A}from"./index-18acf776.js";import{d as J,q as f,v as K,x as Q,c as C,b as t,w as e,a,r as s,o as m,F as L,e as D,t as r,n as v,f as T,g as V,h as l,y as X,z as Y,m as Z,A as $,B as I,p as ee,_ as te}from"./index-831cb100.js";const oe={class:"dashboard-container"},ae={class:"card-header"},ne={class:"title"},se={class:"footer"},le={class:"chart-section"},de={class:"chart-header"},re={class:"actions"},ie={class:"chart-content"},ue={class:"chart-header"},ce={class:"el-dropdown-link"},_e={class:"chart-content"},me={class:"chart-header"},pe={class:"order-list"},fe={class:"order-info"},ve={class:"time"},he={class:"customer"},ge={class:"product"},we={class:"chart-header"},be=J({__name:"index",setup(ye){const B=[{title:"本月销售额",number:"¥1,268,560",icon:Z,trend:"up",rate:"15.2%"},{title:"机器人销量",number:"386台",icon:$,trend:"up",rate:"12.5%"},{title:"维保任务",number:"128个",icon:I,trend:"up",rate:"8.3%"},{title:"故障工单",number:"12个",icon:ee,trend:"down",rate:"25.8%"}],h=f("month"),S=f("按产品"),N=[{id:1,time:"10:23:15",customer:"山东重工",product:"工业机器人 AR-150",amount:158e3},{id:2,time:"10:21:32",customer:"青岛港",product:"特种机器人 SR-200",amount:235e3},{id:3,time:"10:20:08",customer:"济南医院",product:"服务机器人 MR-100",amount:98e3},{id:4,time:"10:18:55",customer:"潍柴动力",product:"协作机器人 CR-50",amount:125e3},{id:5,time:"10:17:23",customer:"浪潮集团",product:"工业机器人 AR-200",amount:188e3}],F=[{name:"工业机器人 AR-150",stock:3,warning:5},{name:"伺服电机 M2235",stock:8,warning:15},{name:"控制器 C100",stock:5,warning:10},{name:"减速器 R50",stock:12,warning:20}],O=d=>d.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2}),g=f(null),w=f(null);let i=null,u=null;const E=()=>{if(g.value){i=A(g.value);const d={tooltip:{trigger:"axis"},legend:{data:["销售额","维保收入"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["1月","2月","3月","4月","5月","6月","7月"]},yAxis:{type:"value"},series:[{name:"销售额",type:"line",smooth:!0,data:[32e4,45e4,38e4,58e4,69e4,82e4,95e4],areaStyle:{opacity:.1},lineStyle:{width:3}},{name:"维保收入",type:"line",smooth:!0,data:[28e3,32e3,35e3,42e3,48e3,52e3,56e3],areaStyle:{opacity:.1},lineStyle:{width:3}}]};i.setOption(d)}},M=()=>{if(w.value){u=A(w.value);const d={tooltip:{trigger:"item"},legend:{orient:"vertical",right:10,top:"center"},series:[{name:"销售分布",type:"pie",radius:["40%","70%"],center:["40%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1},emphasis:{label:{show:!0,fontSize:"16",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:580,name:"工业机器人"},{value:484,name:"服务机器人"},{value:300,name:"特种机器人"},{value:235,name:"协作机器人"},{value:148,name:"其他产品"}]}]};u.setOption(d)}},U=()=>{console.log("更新销售趋势:",h.value)},W=d=>{S.value=d==="product"?"按产品":d==="region"?"按地区":"按客户"},z=()=>{i==null||i.resize(),u==null||u.resize()};return K(()=>{E(),M(),window.addEventListener("resize",z)}),Q(()=>{window.removeEventListener("resize",z),i==null||i.dispose(),u==null||u.dispose()}),(d,o)=>{const b=s("el-icon"),c=s("el-card"),_=s("el-col"),y=s("el-row"),k=s("el-radio-button"),q=s("el-radio-group"),x=s("el-dropdown-item"),G=s("el-dropdown-menu"),P=s("el-dropdown"),R=s("el-tag"),j=s("el-button"),p=s("el-table-column"),H=s("el-table");return m(),C("div",oe,[t(y,{gutter:20},{default:e(()=>[(m(),C(L,null,D(B,n=>t(_,{span:6,key:n.title},{default:e(()=>[t(c,{shadow:"hover",class:"data-card"},{default:e(()=>[a("div",ae,[a("span",ne,r(n.title),1),t(b,{class:v(["icon",n.trend])},{default:e(()=>[(m(),T(V(n.icon)))]),_:2},1032,["class"])]),a("div",{class:v(["number",n.trend])},r(n.number),3),a("div",se,[a("span",{class:v(["trend",n.trend])},[t(b,null,{default:e(()=>[(m(),T(V(n.trend==="up"?"ArrowUp":"ArrowDown")))]),_:2},1024),l(" "+r(n.rate),1)],2),o[1]||(o[1]=a("span",{class:"label"},"较上月",-1))])]),_:2},1024)]),_:2},1024)),64))]),_:1}),a("div",le,[t(y,{gutter:20},{default:e(()=>[t(_,{span:16},{default:e(()=>[t(c,{class:"chart-card"},{header:e(()=>[a("div",de,[o[5]||(o[5]=a("span",{class:"title"},"销售趋势",-1)),a("div",re,[t(q,{modelValue:h.value,"onUpdate:modelValue":o[0]||(o[0]=n=>h.value=n),size:"small",onChange:U},{default:e(()=>[t(k,{label:"week"},{default:e(()=>o[2]||(o[2]=[l("本周")])),_:1}),t(k,{label:"month"},{default:e(()=>o[3]||(o[3]=[l("本月")])),_:1}),t(k,{label:"year"},{default:e(()=>o[4]||(o[4]=[l("全年")])),_:1})]),_:1},8,["modelValue"])])])]),default:e(()=>[a("div",ie,[a("div",{ref_key:"salesTrendChart",ref:g,class:"chart"},null,512)])]),_:1})]),_:1}),t(_,{span:8},{default:e(()=>[t(c,{class:"chart-card"},{header:e(()=>[a("div",ue,[o[9]||(o[9]=a("span",{class:"title"},"销售分布",-1)),t(P,{onCommand:W},{dropdown:e(()=>[t(G,null,{default:e(()=>[t(x,{command:"product"},{default:e(()=>o[6]||(o[6]=[l("按产品")])),_:1}),t(x,{command:"region"},{default:e(()=>o[7]||(o[7]=[l("按地区")])),_:1}),t(x,{command:"customer"},{default:e(()=>o[8]||(o[8]=[l("按客户")])),_:1})]),_:1})]),default:e(()=>[a("span",ce,[l(r(S.value)+" ",1),t(b,{class:"el-icon--right"},{default:e(()=>[t(X(Y))]),_:1})])]),_:1})])]),default:e(()=>[a("div",_e,[a("div",{ref_key:"distributionChart",ref:w,class:"chart"},null,512)])]),_:1})]),_:1})]),_:1}),t(y,{gutter:20,style:{"margin-top":"20px"}},{default:e(()=>[t(_,{span:12},{default:e(()=>[t(c,{class:"chart-card"},{header:e(()=>[a("div",me,[o[11]||(o[11]=a("span",{class:"title"},"实时订单",-1)),t(R,{type:"success"},{default:e(()=>o[10]||(o[10]=[l("实时数据")])),_:1})])]),default:e(()=>[a("div",pe,[(m(),C(L,null,D(N,n=>a("div",{key:n.id,class:"order-item"},[a("div",fe,[a("span",ve,r(n.time),1),a("span",he,r(n.customer),1),a("span",ge,r(n.product),1)]),a("div",{class:v(["order-amount",{"amount-up":n.amount>1e4}])}," ¥"+r(O(n.amount)),3)])),64))])]),_:1})]),_:1}),t(_,{span:12},{default:e(()=>[t(c,{class:"chart-card"},{header:e(()=>[a("div",we,[o[13]||(o[13]=a("span",{class:"title"},"库存预警",-1)),t(j,{type:"primary",link:""},{default:e(()=>o[12]||(o[12]=[l("查看全部")])),_:1})])]),default:e(()=>[t(H,{data:F,style:{width:"100%"}},{default:e(()=>[t(p,{prop:"name",label:"商品名称"}),t(p,{prop:"stock",label:"当前库存",width:"100"}),t(p,{prop:"warning",label:"预警值",width:"100"}),t(p,{label:"状态",width:"100"},{default:e(({row:n})=>[t(R,{type:n.stock<=n.warning?"danger":"warning"},{default:e(()=>[l(r(n.stock<=n.warning?"已告警":"预警"),1)]),_:2},1032,["type"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])])}}});const Ce=te(be,[["__scopeId","data-v-64f0a9fd"]]);export{Ce as default};
